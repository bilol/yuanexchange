translations = {
    'en': {
        'start_message': "👋 Hello {name}! It seems like this is your first time here. Please share your contact to continue.",
        'welcome_back_message': "👋 Welcome back, {name}! We are glad to see you again. You can use the exchange service from the main menu.",
        'share_contact': "📱 Share Contact",
        'thank_you_contact': "👍 Thank you! Please send a photo of your passport for verification.",
        'send_passport_photo': "📷 Please send a photo of your passport for verification.",
        'registration_complete': "✅ Registration complete! You can now use the exchange service from the main menu.",
        'share_contact_first': "Please share your contact information first.",
        'already_registered': "✅ You are already registered. You can use the exchange service from the main menu.",
        'exchange_button': "💱 Exchange",
        'history_button': "📜 View History",
        'show_rates_button': "📈 Show Rates",
        'set_language_button': "🌐 Set Language",
        'exchange_prompt': "Please choose the type of exchange:",
        'exchange_amount_prompt': "You selected {exchange_type}. Please enter the amount you want to exchange:",
        'choose_language': "🌐 Please choose your language:",
        'language_set': "✅ Language has been set to {language}.",
        'error_updating_language': "❌ Error updating language. Please try again.",
        'invalid_amount': "❌ Please enter a valid amount.",
        'invalid_exchange_type': "❌ Invalid exchange type selected.",
        'error_fetching_rates': "❌ Error fetching current rates.",
        'transaction_error': "❌ Error processing the transaction. Please try again later.",
        'exchange_calculation_error': "❌ Error during exchange calculation.",
        'transaction_confirmation': (
            "✅ Transaction confirmed:\n"
            "💵 Amount: {amount:,.2f}\n"
            "📈 Rate: {rate:,.2f}\n"
            "📥 Received: {received_amount:,.2f}"
        ),
        'no_transactions': "📭 No transactions found.",
        'transaction_history': "📜 Your transaction history:",
        'today_transactions': "Today's transactions:\n",
        'no_transactions_today': "No transactions found for today.",
        'current_rates': "📈 Current Rates:\n\n",
        'date_label': "📅 Date",
        'time_label': "🕒 Time",
        'amount_label': "💵 Amount",
        'rate_label': "💱 Rate",
        'received_label': "📥 Received",
        'UZS_to_CNY_button': "🇺🇿 UZS to CNY",
        'CNY_to_UZS_button': "🇨🇳 CNY to UZS",
        'USD_to_CNY_button': "🇺🇸 USD to CNY",
        'CNY_to_USD_button': "🇨🇳 CNY to USD",
        'transaction_details': (
            "💼 New transaction by {user_name} ({user_id}):\n"
            "💰 Amount: {amount:,.2f} {currency_from}\n"
            "📈 Rate: {rate:,.2f}\n"
            "💵 Received: {received_amount:,.2f} {currency_to}"
        ),
        'approved_message': "✅ Your information has been verified and approved. You can now use the exchange service.",
        'denied_message': "❌ Your information has been denied. Please contact support for more details.",
        'info_under_review': "Your information is under review. You will be notified once it has been verified.",
        'today_transactions_button': "📅 Today's Transactions",
        'phone_number': "📱 Phone"
    },
    'uz': {
        'start_message': "👋 Salom {name}! Bu yerda birinchi marta ekanligingiz ko'rinib turibdi. Iltimos, davom etish uchun kontaktni ulashing.",
        'welcome_back_message': "👋 Yana ko'rishganimizdan xursandmiz, {name}! Siz asosiy menyudan ayirboshlash xizmatidan foydalanishingiz mumkin.",
        'share_contact': "📱 Kontaktni ulashish",
        'thank_you_contact': "👍 Rahmat! Iltimos, tasdiqlash uchun pasport rasmini yuboring.",
        'send_passport_photo': "📷 Iltimos, tasdiqlash uchun pasport rasmini yuboring.",
        'registration_complete': "✅ Ro'yxatdan o'tish tugallandi! Endi siz asosiy menyudan almashinuv xizmatidan foydalanishingiz mumkin.",
        'share_contact_first': "Iltimos, avval kontakt ma'lumotlaringizni ulashing.",
        'already_registered': "✅ Siz allaqachon ro'yxatdan o'tgansiz. Siz asosiy menyudan ayirboshlash xizmatidan foydalanishingiz mumkin.",
        'exchange_button': "💱 Ayirboshlash",
        'history_button': "📜 Tarixni ko'rish",
        'show_rates_button': "📈 Kurslarni ko'rish",
        'set_language_button': "🌐 Tilni sozlash",
        'exchange_prompt': "Iltimos, almashish turini tanlang:",
        'exchange_amount_prompt': "Siz {exchange_type} ni tanladingiz. Iltimos, almashmoqchi bo'lgan summani kiriting:",
        'choose_language': "🌐 Iltimos, tilingizni tanlang:",
        'language_set': "✅ Til {language} ga o'rnatildi.",
        'error_updating_language': "❌ Tilni yangilashda xatolik. Iltimos, qayta urinib ko'ring.",
        'invalid_amount': "❌ Iltimos, haqiqiy summani kiriting.",
        'invalid_exchange_type': "❌ Noto'g'ri almashish turi tanlandi.",
        'error_fetching_rates': "❌ Joriy kurslarni olishda xatolik.",
        'transaction_error': "❌ Tranzaktsiyani qayta ishlashda xatolik. Iltimos, keyinroq qayta urinib ko'ring.",
        'exchange_calculation_error': "❌ Almashish hisob-kitobida xatolik.",
        'transaction_confirmation': (
            "✅ Tranzaktsiya tasdiqlandi:\n"
            "💵 Miqdor: {amount:,.2f}\n"
            "📈 Kurs: {rate:,.2f}\n"
            "📥 Qabul qilingan: {received_amount:,.2f}"
        ),
        'no_transactions': "📭 Tranzaktsiyalar topilmadi.",
        'transaction_history': "📜 Sizning tranzaktsiya tarixingiz:",
        'today_transactions': "Bugungi transaktsiyalar:\n",
        'no_transactions_today': "Bugun uchun transaktsiyalar topilmadi.",
        'current_rates': "📈 Joriy kurslar:\n\n",
        'date_label': "📅 Sana",
        'time_label': "🕒 Vaqt",
        'amount_label': "💵 Miqdor",
        'rate_label': "💱 Kurs",
        'received_label': "📥 Qabul qilingan",
        'UZS_to_CNY_button': "🇺🇿 UZS dan CNY ga",
        'CNY_to_UZS_button': "🇨🇳 CNY dan UZS ga",
        'USD_to_CNY_button': "🇺🇸 USD dan CNY ga",
        'CNY_to_USD_button': "🇨🇳 CNY dan USD ga",
        'transaction_details': (
            "💼 Yangi tranzaksiya foydalanuvchi tomonidan {user_name} ({user_id}):\n"
            "💰 Miqdor: {amount:,.2f} {currency_from}\n"
            "📈 Kurs: {rate:,.2f}\n"
            "💵 Qabul qilindi: {received_amount:,.2f} {currency_to}"
        ),
        'approved_message': "✅ Sizning ma'lumotlaringiz tasdiqlandi. Endi almashuv xizmatidan foydalanishingiz mumkin.",
        'denied_message': "❌ Sizning ma'lumotlaringiz rad etildi. Batafsil ma'lumot uchun qo'llab-quvvatlash xizmatiga murojaat qiling.",
        'info_under_review': "Sizning ma'lumotlaringiz ko'rib chiqilmoqda. Tasdiqlanganidan so'ng sizga xabar beriladi.",
        'today_transactions_button': "📅 Today's Transactions",
        'phone_number': "📱 Telefon"
    },
    'ru': {
        'start_message': "👋 Привет, {name}! Похоже, вы здесь впервые. Пожалуйста, поделитесь своим контактом для продолжения.",
        'welcome_back_message': "👋 Добро пожаловать обратно, {name}! Мы рады снова вас видеть. Вы можете воспользоваться услугой обмена в главном меню.",
        'share_contact': "📱 Поделиться контактом",
        'thank_you_contact': "👍 Спасибо! Пожалуйста, отправьте фото вашего паспорта для подтверждения.",
        'send_passport_photo': "📷 Пожалуйста, отправьте фото вашего паспорта для подтверждения.",
        'registration_complete': "✅ Регистрация завершена! Теперь вы можете воспользоваться услугой обмена в главном меню.",
        'share_contact_first': "Пожалуйста, сначала поделитесь своей контактной информацией.",
        'already_registered': "✅ Вы уже зарегистрированы. Вы можете воспользоваться услугой обмена в главном меню.",
        'exchange_button': "💱 Обмен",
        'history_button': "📜 Просмотр истории",
        'show_rates_button': "📈 Показать курсы",
        'set_language_button': "🌐 Установить язык",
        'exchange_prompt': "Пожалуйста, выберите тип обмена:",
        'exchange_amount_prompt': "Вы выбрали {exchange_type}. Пожалуйста, введите сумму, которую хотите обменять:",
        'choose_language': "🌐 Пожалуйста, выберите ваш язык:",
        'language_set': "✅ Язык установлен на {language}.",
        'error_updating_language': "❌ Ошибка при обновлении языка. Пожалуйста, попробуйте снова.",
        'invalid_amount': "❌ Пожалуйста, введите действительную сумму.",
        'invalid_exchange_type': "❌ Выбран неправильный тип обмена.",
        'error_fetching_rates': "❌ Ошибка при получении текущих курсов.",
        'transaction_error': "❌ Ошибка при обработке транзакции. Пожалуйста, попробуйте позже.",
        'exchange_calculation_error': "❌ Ошибка при расчете обмена.",
        'transaction_confirmation': (
            "✅ Транзакция подтверждена:\n"
            "💵 Сумма: {amount:,.2f}\n"
            "📈 Курс: {rate:,.2f}\n"
            "📥 Получено: {received_amount:,.2f}"
        ),
        'no_transactions': "📭 Транзакции не найдены.",
        'transaction_history': "📜 История ваших транзакций:",
        'today_transactions': "Сегодняшние транзакции:\n",
        'no_transactions_today': "Транзакции за сегодня не найдены.",
        'current_rates': "📈 Текущие курсы:\n\n",
        'date_label': "📅 Дата",
        'time_label': "🕒 Время",
        'amount_label': "💵 Сумма",
        'rate_label': "💱 Курс",
        'received_label': "📥 Получено",
        'UZS_to_CNY_button': "🇺🇿 UZS в CNY",
        'CNY_to_UZS_button': "🇨🇳 CNY в UZS",
        'USD_to_CNY_button': "🇺🇸 USD в CNY",
        'CNY_to_USD_button': "🇨🇳 CNY в USD",
        'transaction_details': (
             "💼 Новая транзакция от {user_name} ({user_id}):\n"
             "💰 Сумма: {amount:,.2f} {currency_from}\n"
             "📈 Курс: {rate:,.2f}\n"
             "💵 Получено: {received_amount:,.2f} {currency_to}"
        ),
        'approved_message': "✅ Ваша информация подтверждена и одобрена. Теперь вы можете использовать услугу обмена.",
        'denied_message': "❌ Ваша информация отклонена. Пожалуйста, свяжитесь с поддержкой для получения дополнительной информации.",
        'info_under_review': "Ваша информация находится на рассмотрении. Вы будете уведомлены после проверки.",
        'today_transactions_button': "📅 Today's Transactions",
        'phone_number': "📱 Телефон"
    }
}

def translate(key, lang):
    return translations.get(lang, translations['en']).get(key, key)
